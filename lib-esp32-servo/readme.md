# ESP32舵机驱动库

## 简介

本库是专为ESP32开发板设计的舵机控制支持库，基于madhephaestus/ESP32Servo开源库开发。该库利用ESP32的PWM定时器功能，支持同时控制多达16个舵机，为aily blockly用户提供简单易用的积木块操作接口。

## 重要依赖

**使用本库前，请先安装ESP32Servo库：**

1. 打开Arduino IDE
2. 进入 `工具` > `管理库`
3. 搜索 `ESP32Servo`
4. 安装 **madhephaestus** 开发的 `ESP32Servo` 库（支持ESP32 Arduino Core v3.0.0+）

或者从GitHub安装：https://github.com/madhephaestus/ESP32Servo

## 特性

- 支持ESP32、ESP32-C3、ESP32-S3等全系列ESP32开发板
- 最多同时控制16个舵机（使用不同的PWM通道）
- 支持角度控制（0-180度）和脉宽控制（500-2500微秒）
- 提供完整的舵机操作：连接、控制、读取、断开等
- 包含简化操作积木块，适合初学者快速上手
- 自动管理PWM通道分配

## 积木块说明

### 基础操作

1. **ESP32舵机连接到引脚** - 将舵机对象连接到指定的PWM引脚
2. **ESP32舵机移动到指定度数** - 控制舵机转动到指定角度（0-180度）
3. **ESP32舵机设置脉宽** - 设置舵机的PWM脉宽（500-2500微秒）
4. **ESP32舵机当前角度** - 读取舵机当前角度
5. **ESP32舵机当前脉宽** - 读取舵机当前脉宽
6. **ESP32舵机断开连接** - 断开舵机连接，释放PWM通道
7. **ESP32舵机是否已连接** - 检查舵机是否已连接到引脚

### 简化操作

1. **引脚X的舵机转到Y度** - 简化版操作，直接控制指定引脚的舵机转动

## 推荐引脚

ESP32推荐使用以下PWM引脚连接舵机：
- 2, 4, 12-19, 21-23, 25-27, 32-33

## 使用示例

### 基础舵机控制
```
ESP32舵机servo1连接到引脚18
ESP32舵机servo1移动到90度
延时1000毫秒
ESP32舵机servo1移动到0度
延时1000毫秒
ESP32舵机servo1移动到180度
```

### 简化舵机控制
```
引脚18的舵机转到90度
延时1000毫秒
引脚18的舵机转到0度
延时1000毫秒
引脚18的舵机转到180度
```

## 硬件连接

- **红线（电源）**: 连接到3.3V或5V（取决于舵机规格）
- **黑线/棕线（地线）**: 连接到GND
- **黄线/橙线/白线（信号线）**: 连接到ESP32的PWM引脚

## 注意事项

1. ESP32只能提供有限的电流，对于大功率舵机建议使用外部电源
2. 使用外部电源时，请确保ESP32和外部电源共地
3. 每个舵机使用独立的PWM通道，最多支持16个舵机
4. 舵机角度范围通常为0-180度，脉宽范围为500-2500微秒
5. 不同品牌舵机的最佳脉宽范围可能略有差异

## 开源库信息

本库基于以下开源项目：
- ESP32Servo库 (作者: madhephaestus, 原作者: John K. Bennett)
- GitHub: https://github.com/madhephaestus/ESP32Servo
- 许可证: GNU Lesser General Public License v2.1
- 支持ESP32 Arduino Core v3.0.0+

## 版本信息

- 版本: 1.0.0
- 兼容性: ESP32系列开发板
- 支持电压: 3.3V, 5V 